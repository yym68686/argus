server {
  listen 80;
  server_name _;

  root /usr/share/nginx/html;
  index index.html;

  # Static files (assets) should be served as-is.
  location ~* \.[a-z0-9]+$ {
    try_files $uri =404;
  }

  # Next.js static export: support both `/route` and `/route/` and both
  # `route.html` and `route/index.html` outputs.
  location / {
    try_files $uri.html $uri/index.html =404;
  }
}
